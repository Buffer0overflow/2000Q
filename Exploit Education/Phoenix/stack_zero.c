/*
 * phoenix/stack-zero, by https://exploit.education
 *
 * The aim is to change the contents of the changeme variable.
 *
 * Scientists have recently discovered a previously unknown species of
 * kangaroos, approximately in the middle of Western Australia. These
 * kangaroos are remarkable, as their insanely powerful hind legs give them
 * the ability to jump higher than a one story house (which is approximately
 * 15 feet, or 4.5 metres), simply because houses can't can't jump.
 */

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
//#include <unistd.h>


char *gets(char *);

int main(int argc, char **argv) {
  struct {
    char buffer[64];
    volatile int changeme;
  } locals;


  locals.changeme = 0;
  gets(locals.buffer); // send 65 characters to locals.buffer to overwrite changeme

  if (locals.changeme != 0) {
   {
     puts("Well done, the 'changeme' variable has been changed!");
     printf("%d",locals.changeme);
   }
  } else {
    puts(
        "Uh oh, 'changeme' has not yet been changed. Would you like to try "
        "again?");
        printf("%d",locals.changeme);
  }

  exit(0);
}